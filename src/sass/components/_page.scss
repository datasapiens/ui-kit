/**
 * Component Page.
 *
 * @requires {mixin}       acceleration
 * @requires {placeholder} %ctr--center
 * @requires {variable}    $animation-easing
 * @requires container
 */

// =============================================================================
// Page
// =============================================================================

.page {
    display: flex;
    flex-direction: column;
    height: 100vh;
    overflow: hidden;
}

/**
 * Modifiers.
 */

/**
 * Page, print view.
 */

.page {
    &.--print {
        display: block;
        height: auto;
    }
}

/**
 * Page, wide view.
 */

.page {
    &.--wide {
        .page__inset {
            max-width: 100%;
        }
    }
}

/**
 * States.
 */

/**
 * Page, `landscape` layout (print view).
 */

.page {
    &.is-landscape {
        .page__inset {
            max-width: map-get($page-size, landscape);
        }
    }
}

/**
 * Page, `portrait` layout (print view).
 */

.page {
    &.is-portrait {
        .page__inset {
            max-width: map-get($page-size, portrait);
        }
    }
}

/**
 * Context.
 */

/**
 * Page, has sidebar.
 */

.page {
    &.has-sidebar {
        .page__inset {
            @media (min-width: nth($page-sidebar-breaks, 1)) {
                margin-left: map-get($page-sidebar-size, min);
            }
            @media (min-width: nth($page-sidebar-breaks, 2)) {
                margin-left: map-get($page-sidebar-size, max);
            }
        }
    }
}

/**
 * Page, has sidebar on.
 */

.page {
    &.has-sidebar-on {
        .page__inset {
            @media (min-width: nth($page-sidebar-breaks, 1)) {
                margin-left: map-get($page-sidebar-size, max);
            }
        }
    }
}

/**
 * Page, has sidebar off.
 */

.page {
    &.has-sidebar-off {
        .page__inset {
            @media (min-width: nth($page-sidebar-breaks, 1)) {
                margin-left: map-get($page-sidebar-size, min);
            }
        }
    }
}

// =============================================================================
// Subcomponents
// =============================================================================

// Page inset
// =============================================================================

.page__inset {
    @extend %ctr--center !optional;
    @include acceleration;

    max-width: map-get($page-size, max);
    min-width: map-get($page-size, min);
    padding: {
        left: $page-indent;
        right: $page-indent;
    }
    position: relative;
    transition:
        margin 0.2s map-get($animation-easing, out-sine),
        max-width 0.2s;

    @media print {
        max-width: 100%;
        padding: {
            left: 0;
            right: 0;
        }
    }
}
