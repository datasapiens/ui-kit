/**
 * Component Page/Header.
 *
 * @requires {function}    px-to-rem
 * @requires {mixin}       acceleration
 * @requires {mixin}       link-underline
 * @requires {mixin}       size
 * @requires {mixin}       stretch
 */

// =============================================================================
// Page header
// =============================================================================

.page-head {
    background-color: $page-head-background;
    box-shadow: $page-head-box-shadow;
    color: $page-head-color;
    line-height: $page-head-line-height-ratio;
    min-height: $page-head-size;
    position: relative;

    @if $page-head-debug {
        background-color: green;
    }

    a {
        @include link-underline($underline: false);
        color: inherit;
    }
}

/**
 * Modifiers.
 */

// .component--modifier {}

// .component {
//     &.\--modifier {}
// }

/**
 * States.
 */

// .is-component-state {}

// .component {
//     &.is-state {}
// }

/**
 * Context.
 */

// .has-component

// =============================================================================
// Subcomponents
// =============================================================================

.page-head__row {
    flex-wrap: wrap;
    position: static;
}

// Page head cell
// =============================================================================

.page__head__cell {
    @include acceleration;

    flex: 1;
    min-height: $page-head-size;
    position: relative;

    &:nth-of-type(1) {
        @include stretch;

        justify-content: center;

        @if $page-head-debug {
            background-color: red;
        }

        @media (min-width: nth($page-head-breaks, 1)) {
            flex: 1;
            order: 2;
            position: static;
        }
    }

    &:nth-of-type(2) {
        display: none;

        @if $page-head-debug {
            background-color: orange;
        }

        @media (min-width: nth($page-head-breaks, 1)) {
            display: inherit;
            order: 1;
            padding-left: calc(
                #{map-get($page-head-control--sidebar-size, width)} -
                #{$page-head-indent}
            );
        }
        @media (min-width: nth($page-head-breaks, 2)) {
            padding-left: 0;
        }
    }

    &:nth-of-type(3) {
        justify-content: flex-end;

        @if $page-head-debug {
            background-color: cyan;
        }

        @media (min-width: nth($page-head-breaks, 1)) {
            order: 3;
        }
    }
}

// Page head logo
// =============================================================================

.page-head__logo {
    display: flex;
    position: relative;
    transform: scale(0.9, 0.9);
    z-index: 1;

    &::after {
        @include size(
            map-get($page-head-logo-size, width),
            map-get($page-head-logo-size, height)
        );

        background: url("../images/datasapiens.svg")
            0 (-1) * map-get($page-head-logo-size, height)
            no-repeat;
        content: "";
        flex: 1;

        @if $page-head-debug {
            background-color: lightgreen;
        }
    }
}

// Page head control
// =============================================================================

%page-head__control {
    align-items: center;
    display: flex;
    justify-content: center;
}

.page-head__control {
    @extend %page-head__control;

    cursor: pointer;
    font: {
        size: px-to-em($page-head-control-font-size);
        weight: $page-head-control-font-weight;
    }

    [class*="__icon"] {
        font-size: px-to-rem(
            $page-head-control-icon-size
        );
    }
    [class*="__label"] {
        font-size: px-to-em(
            $page-head-control-font-size,
            $page-head-control-icon-size
        );
        text-transform: uppercase;
    }
}

/**
 * Modifiers.
 */

/**
 * Page head control, sidebar toggle.
 */

.page-head__control {
    &.\--sidebar {
        @include size(
            map-get($page-head-control--sidebar-size, width),
            map-get($page-head-control--sidebar-size, height)
        );

        left: 0;
        position: absolute;
        top: 0;
        z-index: $page-head-index + 2;

        [class*="__icon"] {
            &::before {
                margin-bottom: 0;
            }
        }
    }
}

// Page head title
// =============================================================================

.page-head__title {
    color: inherit;
    font: {
        size: 1rem;
        weight: 300;
    }
    line-height: inherit;
    margin: 0;
    text-decoration: none;
}

// Page head icon
// =============================================================================

.page-head__icon {
    font-size: px-to-rem($page-head-icon-size);
}
