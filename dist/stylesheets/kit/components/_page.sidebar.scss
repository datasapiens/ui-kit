/**
 * Component Page/Sidebar.
 * @author David Sklar <david.sklar@datasapiens.co.uk>
 */

// =============================================================================
// Page sidebar
// =============================================================================

.page-sidebar {
    @include acceleration;

    background-color: $page-sidebar-background;
    bottom: 0;
    display: flex;
    flex-direction: column;
    left: 0;
    position: fixed;
    top: 0;
    transition: width 0.2s map-get($animation-easing, out-sine);
    user-select: none;
    width: 0;
    z-index: $page-sidebar-index;

    &::after {
        @include stretch(0, auto, 0, 0);

        background-color: $page-sidebar-background;
        content: "";
        width: 0;
    }

    @media (min-width: nth($page-sidebar-breaks, 1)) {
        width: map-get($page-sidebar-size, min);

        &::after {
            width: map-get($page-sidebar-size, min);
        }
    }
    @media (min-width: nth($page-sidebar-breaks, 2)) {
        width: map-get($page-sidebar-size, max);
    }
}

/**
 * Modifiers.
 */

// .component--modifier {}

// .component {
//     &.\--modifier {}
// }

/**
 * States.
 */

/**
 * Page sidebar, on.
 */

.page-sidebar {
    &.is-on {
        width: map-get($page-sidebar-size, max);

        &::after {
            width: map-get($page-sidebar-size, min);
        }

        .page-sidebar__body {
            overflow: {
                y: auto;
            }
        }

        .page-sidebar__navigation {}

        .page-sidebar__navigation__item {
            animation:
                fade--in 0.6s 0.2s both,
                slide--left-reverse 0.2s map-get($animation-easing, out-sine) 0.2s both;
        }
    }
}

/**
 * Page sidebar, off.
 */

.page-sidebar {
    &.is-off {
        .page-sidebar__body {
            overflow: hidden;
        }

        .page-sidebar__navigation {}

        .page-sidebar__navigation__item {
            animation:
                fade--out 0.15s both,
                slide--left 0.15s map-get($animation-easing, out-sine) both;
        }

        @media (min-width: nth($page-sidebar-breaks, 1)) {
            width: map-get($page-sidebar-size, min);
        }
    }
}

// =============================================================================
// Subcomponents
// =============================================================================

// Page sidebar inset
// =============================================================================

.page-sidebar__inset {
    flex: 1;
    overflow: {
        y: auto;
    }
}

// Page sidebar header
// =============================================================================

.page-sidebar__head {
    padding: $page-sidebar-indent;
}

// =============================================================================

.page-sidebar__body {
    display: flex;
    flex: 1;

    overflow: hidden;
    // padding: $page-sidebar-indent;
    position: relative;
}

// Page sidebar navigation
// =============================================================================

.page-sidebar__navigation {
    position: relative;
    z-index: 1;
}

// Page sidebar navigation item
// =============================================================================

.page-sidebar__navigation__item {}

// Page sidebar footer
// =============================================================================

.page-sidebar__foot {
    padding: $page-sidebar-indent;
}
